---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'svg'> {
	label?: string;
	showLeftMarker?: boolean;
	showRightMarker?: boolean;
}

const {
	label = 'guisso',
	showLeftMarker = true,
	showRightMarker = true,
	class: className,
	width,
	...rest
} = Astro.props as Props & { width?: number | string };
const ariaLabel = (rest['aria-label'] as string | undefined) ?? `${label} logotipo`;

const resolvedWidth = width ?? 180;
const isMonogram = label.trim().toLowerCase() === 'g';
const shouldRenderRight = showRightMarker && !isMonogram;
---

<svg
	xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 849.6 329.92"
	class:list={['logo-wordmark', className]}
	role="img"
	aria-label={ariaLabel}
	width={resolvedWidth}
	{...rest}
>
	<title>{label}</title>
	<text transform="translate(5.52 250.66)" fill="currentColor">{label}</text>
	{showLeftMarker && (
		<>
			<polygon points="60.34 198.02 84.8 150.91 107.45 198.02 60.34 198.02" fill="currentColor" />
			{shouldRenderRight && (
				<polygon points="741.17 161.02 765.63 208.13 788.28 161.02 741.17 161.02" fill="currentColor" />
			)}
		</>
	)}
</svg>

<style>
	.logo-wordmark {
		display: block;
		width: auto;
		max-width: 100%;
		color: inherit;
	}

	.logo-wordmark text {
		font-size: 296.85px;
		font-family: 'Didact Gothic', 'Oferta do Dia', 'Inter', sans-serif;
	}

	@media (max-width: 640px) {
		.logo-wordmark {
			width: 150px;
		}
	}
</style>
